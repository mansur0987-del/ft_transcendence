{"version":3,"file":"index.js","sources":["../dist-src/api/keys.js","../dist-src/components/Router.js","../dist-src/utils/useReducer.js","../dist-src/components/BrowserRouter.js","../dist-src/utils/assert.js","../dist-src/hooks/useLocation.js","../dist-src/api/resolvePath.js","../dist-src/hooks/useOutlet.js","../dist-src/hooks/useNavigate.js","../dist-src/utils/useComputedCallback.js","../dist-src/hooks/useResolvedPath.js","../dist-src/hooks/useHref.js","../dist-src/components/Link.js","../dist-src/components/MemoryRouter.js","../dist-src/components/NavLink.js","../dist-src/components/Outlet.js","../dist-src/components/Route.js","../dist-src/api/matchPath.js","../dist-src/api/matchRoutes.js","../dist-src/api/createRoutesFromArray.js","../dist-src/hooks/useRoutes.js","../dist-src/api/createRoutesFromChildren.js","../dist-src/components/Routes.js","../dist-src/hooks/useBlocker.js","../dist-src/hooks/useMatch.js","../dist-src/hooks/useParams.js","../dist-src/hooks/usePrompt.js","../dist-src/hooks/useSearchParams.js","../dist-src/api/generatePath.js","../dist-src/api/install.js"],"sourcesContent":["export const ROUTE_CONTEXT = Symbol('ROUTE_CONTEXT');\nexport const LOCATION_CONTEXT = Symbol('LOCATION_CONTEXT');\n","import { defineComponent, renderSlot, provide } from 'vue';\nimport { LOCATION_CONTEXT } from '../api/keys';\nimport { Action } from 'history';\nexport const Router = defineComponent({\n    name: 'Router',\n    props: {\n        location: { required: true, type: Object },\n        navigator: { required: true, type: Object },\n        action: {\n            required: false,\n            type: String,\n            default: Action.Pop,\n        },\n        static: { required: false, type: Boolean, default: false },\n    },\n    setup(props, { slots }) {\n        provide(LOCATION_CONTEXT, props);\n        return () => renderSlot(slots, 'default');\n    },\n});\n","import { reactive, readonly } from 'vue';\nexport const useReducer = (reducer, initialState) => {\n    const state = reactive(initialState);\n    const dispatch = (...arg) => {\n        reducer(state, ...arg);\n    };\n    return [readonly(state), dispatch];\n};\n","import { defineComponent, h, computed, watch } from 'vue';\nimport { Router } from './Router';\nimport { useReducer } from '../utils/useReducer';\nimport { createBrowserHistory } from 'history';\nexport const BrowserRouter = defineComponent({\n    name: 'BrowserRouter',\n    props: {\n        window: {\n            required: false,\n            type: Object,\n        },\n    },\n    setup(props, { slots }) {\n        const history = computed(() => createBrowserHistory({\n            window: props.window,\n        }));\n        const [state, dispatch] = useReducer((state, { action, location }) => {\n            state.action = action;\n            state.location = location;\n        }, {\n            action: history.value.action,\n            location: history.value.location,\n        });\n        watch(history, (history) => history.listen(dispatch), {\n            flush: 'sync',\n            immediate: true,\n        });\n        return () => h(Router, {\n            location: state.location,\n            action: state.action,\n            navigator: history.value,\n        }, { default: slots.default });\n    },\n});\n","export const throwError = (error) => {\n    throw new Error(`[vue-router-dom] ${error}`);\n};\nexport function assert(condition, message) {\n    if (!condition) {\n        throwError(message);\n    }\n}\n","import { inject, toRef } from 'vue';\nimport { LOCATION_CONTEXT } from '../api/keys';\nimport { assert } from '../utils/assert';\nexport const useLocation = () => {\n    const locationContext = inject(LOCATION_CONTEXT, null);\n    assert(locationContext, `useLocation() may be used only in the context of a <Router> component.`);\n    return toRef(locationContext, 'location');\n};\n","import { parsePath } from 'history';\nconst trimTrailingSlashes = (path) => path.replace(/\\/+$/, '');\nconst normalizeSlashes = (path) => path.replace(/\\/\\/+/g, '/');\nexport const joinPaths = (paths) => normalizeSlashes(paths.join('/'));\nconst splitPath = (path) => normalizeSlashes(path).split('/');\nconst resolvePathname = (toPathname, fromPathname) => {\n    const segments = splitPath(trimTrailingSlashes(fromPathname));\n    const relativeSegments = splitPath(toPathname);\n    relativeSegments.forEach((segment) => {\n        if (segment === '..') {\n            // Keep the root \"\" segment so the pathname starts at /\n            if (segments.length > 1)\n                segments.pop();\n        }\n        else if (segment !== '.') {\n            segments.push(segment);\n        }\n    });\n    return segments.length > 1 ? joinPaths(segments) : '/';\n};\nexport const resolvePath = (to, fromPathname = '/') => {\n    const { pathname: toPathname, search = '', hash = '' } = typeof to === 'string' ? parsePath(to) : to;\n    const pathname = toPathname\n        ? resolvePathname(toPathname, toPathname.startsWith('/') ? '/' : fromPathname)\n        : fromPathname;\n    return { pathname, search, hash };\n};\n","import { inject, computed } from 'vue';\nimport { ROUTE_CONTEXT } from '../api/keys';\nexport const useRouteContext = () => inject(ROUTE_CONTEXT, computed(() => ({\n    pathname: '',\n    outlet: null,\n    params: {},\n    route: null,\n})));\nexport const useOutlet = () => {\n    const context = useRouteContext();\n    return computed(() => context.value.outlet);\n};\n","import { resolvePath } from '../api/resolvePath';\nimport { useRouteContext } from '../hooks/useOutlet';\nimport { computed, inject, toRef } from 'vue';\nimport { LOCATION_CONTEXT } from '../api/keys';\nimport { assert } from '../utils/assert';\nexport const useNavigate = () => {\n    const locationContext = inject(LOCATION_CONTEXT, null);\n    assert(locationContext, `useNavigate() may be used only in the context of a <Router> component.`);\n    const navigator = toRef(locationContext, 'navigator');\n    const context = useRouteContext();\n    const pathname = computed(() => context.value.pathname);\n    const navigate = (to, { state, replace = false, } = {}) => {\n        const navigatorValue = navigator.value;\n        if (typeof to === 'number') {\n            return navigatorValue.go(to);\n        }\n        const path = resolvePath(to, pathname.value);\n        (replace ? navigatorValue.replace : navigatorValue.push)(path, state);\n    };\n    return navigate;\n};\n","import { computed, isRef } from 'vue';\nexport const useComputedCallback = (value) => value instanceof Function\n    ? computed(value)\n    : isRef(value)\n        ? value\n        : computed(() => value);\n","import { computed } from 'vue';\nimport { resolvePath } from '../api/resolvePath';\nimport { useRouteContext } from '../hooks/useOutlet';\nimport { useComputedCallback } from '../utils/useComputedCallback';\nexport const useResolvedPath = (toValue) => {\n    const to = useComputedCallback(toValue);\n    const context = useRouteContext();\n    const pathname = computed(() => context.value.pathname);\n    return computed(() => resolvePath(to.value, pathname.value));\n};\n","import { useResolvedPath } from './useResolvedPath';\nimport { computed, inject, toRef } from 'vue';\nimport { useComputedCallback } from '../utils/useComputedCallback';\nimport { LOCATION_CONTEXT } from '../api/keys';\nimport { assert } from '../utils/assert';\nexport const useHref = (toValue) => {\n    const locationContext = inject(LOCATION_CONTEXT, null);\n    assert(locationContext, `useHref() may be used only in the context of a <Router> component.`);\n    const navigator = toRef(locationContext, 'navigator');\n    const to = useComputedCallback(toValue);\n    const path = useResolvedPath(to);\n    return computed(() => navigator.value.createHref(path.value));\n};\n","import { defineComponent, h, toRefs } from 'vue';\nimport { useLocation } from '../hooks/useLocation';\nimport { useNavigate } from '../hooks/useNavigate';\nimport { createPath } from 'history';\nimport { useResolvedPath } from '../hooks/useResolvedPath';\nimport { useHref } from '../hooks/useHref';\nexport const linkProps = {\n    replace: {\n        default: false,\n        required: false,\n        type: Boolean,\n    },\n    tag: {\n        default: 'a',\n        required: false,\n        type: String,\n    },\n    to: { default: '', required: true, type: [String, Object] },\n    state: {\n        default: undefined,\n        required: false,\n        type: Object,\n    },\n};\nexport const Link = defineComponent({\n    name: 'Link',\n    props: linkProps,\n    emits: { click: null },\n    setup(props, { slots, emit }) {\n        const { to, replace } = toRefs(props);\n        const href = useHref(to);\n        const location = useLocation();\n        const path = useResolvedPath(to);\n        const navigate = useNavigate();\n        const handleClick = (event) => {\n            emit('click', event);\n            event.stopPropagation();\n            event.preventDefault();\n            const pathValue = path.value;\n            // If the URL hasn't changed, replace instead of push.\n            const replaceValue = !!replace.value || createPath(location.value) === createPath(pathValue);\n            navigate(pathValue, {\n                replace: replaceValue,\n                state: props.state,\n            });\n        };\n        return () => h(props.tag, {\n            href: href.value,\n            onClick: handleClick,\n        }, { default: slots.default });\n    },\n});\n","import { defineComponent, computed, watch, h } from 'vue';\nimport { createMemoryHistory } from 'history';\nimport { Router } from './Router';\nimport { useReducer } from '../utils/useReducer';\nexport const MemoryRouter = defineComponent({\n    name: 'MemoryRouter',\n    props: {\n        initialEntries: {\n            required: false,\n            type: Array,\n        },\n        initialIndex: { required: false, type: Number },\n    },\n    setup(props, { slots }) {\n        const history = computed(() => createMemoryHistory({\n            initialEntries: props.initialEntries,\n            initialIndex: props.initialIndex,\n        }));\n        const [state, dispatch] = useReducer((state, { action, location }) => {\n            state.action = action;\n            state.location = location;\n        }, {\n            action: history.value.action,\n            location: history.value.location,\n        });\n        watch(history, (history) => history.listen(dispatch), {\n            flush: 'sync',\n            immediate: true,\n        });\n        return () => h(Router, {\n            location: state.location,\n            action: state.action,\n            navigator: history.value,\n        }, { default: slots.default });\n    },\n});\n","import { Link, linkProps } from './Link';\nimport { computed, defineComponent, h, toRefs } from 'vue';\nimport { useLocation } from '../hooks/useLocation';\nimport { useResolvedPath } from '../hooks/useResolvedPath';\nimport { useComputedCallback } from '../utils/useComputedCallback';\nconst useCaseSensitive = (caseSensitiveValue, stringValue) => {\n    const caseSensitive = useComputedCallback(caseSensitiveValue);\n    const string = useComputedCallback(stringValue);\n    return computed(() => {\n        const stringValue = string.value;\n        return caseSensitive.value ? stringValue : stringValue.toLowerCase();\n    });\n};\nexport const NavLink = defineComponent({\n    name: 'NavLink',\n    props: {\n        activeClassName: {\n            default: '',\n            required: false,\n            type: String,\n        },\n        activeStyle: {\n            default: () => ({}),\n            required: false,\n            type: Object,\n        },\n        caseSensitive: {\n            default: false,\n            required: false,\n            type: Boolean,\n        },\n        end: {\n            default: false,\n            required: false,\n            type: Boolean,\n        },\n        ariaCurrent: { default: 'page', type: String, required: false },\n        ...linkProps,\n    },\n    setup(props, { slots }) {\n        const location = useLocation();\n        const { to, caseSensitive } = toRefs(props);\n        const path = useResolvedPath(to);\n        const locationPathname = computed(() => location.value.pathname);\n        const toPathname = computed(() => path.value.pathname);\n        const caseSensitiveLocationPathname = useCaseSensitive(caseSensitive, locationPathname);\n        const caseSensitiveToPathname = useCaseSensitive(caseSensitive, toPathname);\n        const isActive = computed(() => {\n            const locationPathname = caseSensitiveLocationPathname.value;\n            const toPathname = caseSensitiveToPathname.value;\n            return props.end\n                ? locationPathname === toPathname\n                : locationPathname.startsWith(toPathname);\n        });\n        const ariaCurrent = computed(() => isActive.value ? props.ariaCurrent : undefined);\n        const className = computed(() => isActive.value && props.activeClassName);\n        const style = computed(() => isActive.value && props.activeStyle);\n        return () => h(Link, {\n            style: style.value,\n            class: className.value,\n            to: props.to,\n            ariaCurrent: ariaCurrent.value,\n        }, { default: slots.default });\n    },\n});\n","import { defineComponent } from 'vue';\nimport { useOutlet } from '../hooks/useOutlet';\nexport const Outlet = defineComponent({\n    name: 'Outlet',\n    setup() {\n        const outletElement = useOutlet();\n        return () => outletElement.value;\n    },\n});\n","import { Outlet } from './Outlet';\nimport { defineComponent, h, renderSlot } from 'vue';\nexport const Route = defineComponent({\n    name: 'Route',\n    props: {\n        path: {\n            default: '',\n            required: false,\n            type: String,\n        },\n        caseSensitive: {\n            default: false,\n            required: false,\n            type: Boolean,\n        },\n        element: {\n            default: () => h(Outlet),\n            required: false,\n            type: Object,\n        },\n    },\n    setup(props, { slots }) {\n        return () => renderSlot(slots, 'element', undefined, () => [props.element]);\n    },\n});\n","import { assert } from '../utils/assert';\nconst compilePath = (path, caseSensitive, end) => {\n    const keys = [];\n    let source = '^(' +\n        path\n            .replace(/^\\/*/, '/') // Make sure it has a leading /\n            .replace(/\\/?\\*?$/, '') // Ignore trailing / and /*, we'll handle it below\n            .replace(/[\\\\.*+^$?{}|()[\\]]/g, '\\\\$&') // Escape special regex chars\n            .replace(/:(\\w+)/g, (_, key) => {\n            keys.push(key);\n            return '([^\\\\/]+)';\n        }) +\n        ')';\n    if (path.endsWith('*')) {\n        if (path.endsWith('/*')) {\n            source += '\\\\/?'; // Don't include the / in params['*']\n        }\n        keys.push('*');\n        source += '(.*)';\n    }\n    else if (end) {\n        source += '\\\\/?';\n    }\n    if (end)\n        source += '$';\n    const flags = caseSensitive ? undefined : 'i';\n    const matcher = new RegExp(source, flags);\n    return [matcher, keys];\n};\nconst safelyDecodeURIComponent = (value, paramName) => {\n    try {\n        return decodeURIComponent(value.replace(/\\+/g, ' '));\n    }\n    catch (error) {\n        assert(false, `The value for the URL param \"${paramName}\" will not be decoded because` +\n            ` the string \"${value}\" is a malformed URL segment. This is probably` +\n            ` due to a bad percent encoding (${error}).`);\n    }\n};\nexport const matchPath = (pattern, pathname) => {\n    if (typeof pattern === 'string') {\n        pattern = { path: pattern };\n    }\n    const { path, caseSensitive = false, end = true } = pattern;\n    const [matcher, paramNames] = compilePath(path, caseSensitive, end);\n    const match = pathname.match(matcher);\n    if (!match)\n        return null;\n    const matchedPathname = match[1];\n    const values = match.slice(2);\n    const params = paramNames.reduce((memo, paramName, index) => {\n        memo[paramName] = safelyDecodeURIComponent(values[index], paramName);\n        return memo;\n    }, {});\n    return { path, pathname: matchedPathname, params };\n};\n","import { parsePath } from 'history';\nimport { joinPaths } from './resolvePath';\nimport { matchPath } from '../api/matchPath';\nconst paramRe = /^:\\w+$/;\nconst dynamicSegmentValue = 2;\nconst emptySegmentValue = 1;\nconst staticSegmentValue = 10;\nconst splatPenalty = -2;\nconst isSplat = (s) => s === '*';\nfunction matchRouteBranch(branch, pathname) {\n    const routes = branch[1];\n    let matchedPathname = '/';\n    let matchedParams = {};\n    const matches = [];\n    for (let i = 0; i < routes.length; ++i) {\n        const route = routes[i];\n        const remainingPathname = matchedPathname === '/'\n            ? pathname\n            : pathname.slice(matchedPathname.length) || '/';\n        const routeMatch = matchPath({\n            path: route.path,\n            caseSensitive: route.caseSensitive,\n            end: i === routes.length - 1,\n        }, remainingPathname);\n        if (!routeMatch)\n            return null;\n        matchedPathname = joinPaths([matchedPathname, routeMatch.pathname]);\n        matchedParams = { ...matchedParams, ...routeMatch.params };\n        matches.push({\n            route,\n            pathname: matchedPathname,\n            params: matchedParams,\n        });\n    }\n    return matches;\n}\nfunction compareIndexes(a, b) {\n    const siblings = a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n    return siblings\n        ? // If two routes are siblings, we should try to match the earlier sibling\n            // first. This allows people to have fine-grained control over the matching\n            // behavior by simply putting routes with identical paths in the order they\n            // want them tried.\n            a[a.length - 1] - b[b.length - 1]\n        : // Otherwise, it doesn't really make sense to rank non-siblings by index,\n            // so they sort equally.\n            0;\n}\nfunction stableSort(array, compareItems) {\n    // This copy lets us get the original index of an item so we can preserve the\n    // original ordering in the case that they sort equally.\n    const copy = array.slice(0);\n    array.sort((a, b) => compareItems(a, b) || copy.indexOf(a) - copy.indexOf(b));\n}\nfunction computeScore(path) {\n    const segments = path.split('/');\n    let initialScore = segments.length;\n    if (segments.some(isSplat)) {\n        initialScore += splatPenalty;\n    }\n    return segments\n        .filter((s) => !isSplat(s))\n        .reduce((score, segment) => score +\n        (paramRe.test(segment)\n            ? dynamicSegmentValue\n            : segment === ''\n                ? emptySegmentValue\n                : staticSegmentValue), initialScore);\n}\nfunction rankRouteBranches(branches) {\n    const pathScores = branches.reduce((memo, [path]) => {\n        memo[path] = computeScore(path);\n        return memo;\n    }, {});\n    // Sorting is stable in modern browsers, but we still support IE 11, so we\n    // need this little helper.\n    stableSort(branches, (a, b) => {\n        const [aPath, , aIndexes] = a;\n        const aScore = pathScores[aPath];\n        const [bPath, , bIndexes] = b;\n        const bScore = pathScores[bPath];\n        return aScore !== bScore\n            ? bScore - aScore // Higher score first\n            : compareIndexes(aIndexes, bIndexes);\n    });\n}\nfunction flattenRoutes(routes, branches = [], parentPath = '', parentRoutes = [], parentIndexes = []) {\n    routes.forEach((route, index) => {\n        const path = joinPaths([parentPath, route.path]);\n        const routes = parentRoutes.concat(route);\n        const indexes = parentIndexes.concat(index);\n        // Add the children before adding this route to the array so we traverse the\n        // route tree depth-first and child routes appear before their parents in\n        // the \"flattened\" version.\n        if (route.children) {\n            flattenRoutes(route.children, branches, path, routes, indexes);\n        }\n        branches.push([path, routes, indexes]);\n    });\n    return branches;\n}\nexport const matchRoutes = (routes, location, basename = '') => {\n    if (typeof location === 'string') {\n        location = parsePath(location);\n    }\n    let pathname = location.pathname || '/';\n    if (basename) {\n        const base = basename.replace(/^\\/*/, '/').replace(/\\/+$/, '');\n        if (pathname.startsWith(base)) {\n            pathname = pathname === base ? '/' : pathname.slice(base.length);\n        }\n        else {\n            // Pathname does not start with the basename, no match.\n            return null;\n        }\n    }\n    const branches = flattenRoutes(routes);\n    rankRouteBranches(branches);\n    let matches = null;\n    for (let i = 0; matches == null && i < branches.length; i++) {\n        // TODO: Match on search, state too?\n        matches = matchRouteBranch(branches[i], pathname);\n    }\n    return matches;\n};\n","import { Outlet } from '../components/Outlet';\nimport { h } from 'vue';\nexport const createRoutesFromArray = (partialRouteObjects) => {\n    return partialRouteObjects.map((partialRoute) => {\n        const route = {\n            path: partialRoute.path || '/',\n            caseSensitive: partialRoute.caseSensitive === true,\n            element: partialRoute.element || h(Outlet),\n        };\n        if (partialRoute.children) {\n            route.children = createRoutesFromArray(partialRoute.children);\n        }\n        return route;\n    });\n};\n","import { computed, watchEffect, provide, defineComponent, h, renderSlot, } from 'vue';\nimport { joinPaths } from '../api/resolvePath';\nimport { ROUTE_CONTEXT } from '../api/keys';\nimport { useRouteContext } from '../hooks/useOutlet';\nimport { useLocation } from './useLocation';\nimport { matchRoutes } from '../api/matchRoutes';\nimport { useComputedCallback } from '../utils/useComputedCallback';\nimport { createRoutesFromArray } from '../api/createRoutesFromArray';\nconst Provide = defineComponent({\n    props: {\n        injectionKey: { required: true, type: [String, Symbol] },\n        value: null,\n    },\n    setup(props, { slots }) {\n        provide(props.injectionKey, computed(() => props.value));\n        return () => renderSlot(slots, 'default');\n    },\n});\nconst useJoinPaths = (pathsValue) => {\n    const paths = useComputedCallback(pathsValue);\n    return computed(() => joinPaths(paths.value));\n};\nexport const useRoutes_ = (routesValue, basenameValue = '') => {\n    const routes = useComputedCallback(routesValue);\n    const defaultBasename = useComputedCallback(basenameValue);\n    const context = useRouteContext();\n    const parentRoute = computed(() => context.value.route);\n    const parentPathname = computed(() => context.value.pathname);\n    const parentParams = computed(() => context.value.params);\n    const location = useLocation();\n    const parentPath = computed(() => parentRoute.value && parentRoute.value.path);\n    watchEffect(() => {\n        const parentRouteValue = parentRoute.value;\n        if (parentRouteValue && !parentRouteValue.path.endsWith('*')) {\n            console.warn(`You rendered descendant <Routes> (or called \\`useRoutes\\`) at \"${parentPathname.value}\"` +\n                ` (under <Route path=\"${parentPath.value}\">) but the parent route path has no trailing \"*\".` +\n                ` This means if you navigate deeper, the parent won't match anymore and therefore` +\n                ` the child routes will never render.` +\n                `\\n\\n` +\n                `Please change the parent <Route path=\"${parentPath.value}\"> to <Route path=\"${parentPath.value}/*\">.`);\n        }\n    });\n    const joinedPaths = useJoinPaths(() => [\n        parentPathname.value,\n        defaultBasename.value,\n    ]);\n    const basename = computed(() => defaultBasename.value ? joinedPaths.value : parentPathname.value);\n    const matches = computed(() => matchRoutes(routes.value, location.value, basename.value));\n    // console.log(matches.value)\n    return computed(() => matches.value &&\n        matches.value.reduceRight((outlet, { params, pathname, route }) => h(Provide, {\n            injectionKey: ROUTE_CONTEXT,\n            value: {\n                outlet,\n                params: { ...parentParams.value, ...params },\n                pathname: joinPaths([basename.value, pathname]),\n                route,\n            },\n        }, { default: () => [route.element] }), null));\n};\nexport const useRoutes = (partialRoutesValue, basename = '') => {\n    const partialRoutes = useComputedCallback(partialRoutesValue);\n    const routes = computed(() => createRoutesFromArray(partialRoutes.value));\n    return useRoutes_(routes, basename);\n};\n","import { isVNode, Fragment, renderSlot } from 'vue';\nexport const createRoutesFromChildren = (normalizedChildren) => {\n    const routes = [];\n    const children = Array.isArray(normalizedChildren)\n        ? normalizedChildren\n        : normalizedChildren instanceof Object\n            ? [renderSlot(normalizedChildren, 'default')]\n            : [];\n    for (const element of children) {\n        if (!isVNode(element)) {\n            continue;\n        }\n        if (element.type === 'template' || element.type === Fragment) {\n            routes.push(...createRoutesFromChildren(element.children));\n            continue;\n        }\n        const { path, caseSensitive } = element.props || {};\n        const route = {\n            path: path || '/',\n            caseSensitive: caseSensitive === true,\n            element,\n        };\n        if (element.children) {\n            const childRoutes = createRoutesFromChildren(element.children);\n            if (childRoutes.length) {\n                route.children = childRoutes;\n            }\n        }\n        routes.push(route);\n    }\n    return routes;\n};\n","import { defineComponent, computed, renderSlot } from 'vue';\nimport { useRoutes_ } from '../hooks/useRoutes';\nimport { createRoutesFromChildren } from '../api/createRoutesFromChildren';\nexport const Routes = defineComponent({\n    name: 'Routes',\n    props: { basename: { default: '', required: false, type: String } },\n    setup(props, { slots }) {\n        const routes = computed(() => createRoutesFromChildren([renderSlot(slots, 'default')]));\n        const vnode = useRoutes_(routes, () => props.basename);\n        return () => vnode.value;\n    },\n});\n","import { watchEffect, toRef, inject } from 'vue';\nimport { useComputedCallback } from '../utils/useComputedCallback';\nimport { LOCATION_CONTEXT } from '../api/keys';\nimport { assert } from '../utils/assert';\nexport const useBlocker = (blocker, whenValue = true) => {\n    const locationContext = inject(LOCATION_CONTEXT, null);\n    assert(locationContext, `useBlocker() may be used only in the context of a <Router> component.`);\n    const when = useComputedCallback(whenValue);\n    const navigator = toRef(locationContext, 'navigator');\n    watchEffect((onCleanup) => {\n        if (!when.value) {\n            return;\n        }\n        const unblock = navigator.value.block((tx) => {\n            blocker({\n                ...tx,\n                retry() {\n                    unblock();\n                    tx.retry();\n                },\n            });\n        });\n        onCleanup(unblock);\n    });\n};\n","import { useComputedCallback } from '../utils/useComputedCallback';\nimport { computed } from 'vue';\nimport { matchPath } from '../api/matchPath';\nimport { useRouteContext } from '../hooks/useOutlet';\nexport const useMatch = (patternValue) => {\n    const pattern = useComputedCallback(patternValue);\n    const context = useRouteContext();\n    const pathname = computed(() => context.value.pathname);\n    const match = computed(() => matchPath(pattern.value, pathname.value));\n    return match;\n};\n","import { useRouteContext } from '../hooks/useOutlet';\nimport { computed } from 'vue';\nexport const useParams = () => {\n    const context = useRouteContext();\n    return computed(() => context.value.params);\n};\n","import { useComputedCallback } from '../utils/useComputedCallback';\nimport { useBlocker } from './useBlocker';\nexport const usePrompt = (messageValue, whenValue = true) => {\n    const message = useComputedCallback(messageValue);\n    useBlocker((tx) => {\n        if (window.confirm(message.value)) {\n            tx.retry();\n        }\n    }, whenValue);\n};\n","import { computed } from 'vue';\nimport { useComputedCallback } from '../utils/useComputedCallback';\nimport { useNavigate } from './useNavigate';\nimport { useLocation } from './useLocation';\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */\nexport const createSearchParams = (init = '') => new URLSearchParams(typeof init === 'string' ||\n    Array.isArray(init) ||\n    init instanceof URLSearchParams\n    ? init\n    : Object.keys(init).reduce((memo, key) => {\n        const value = init[key];\n        return memo.concat(Array.isArray(value) ? value.map((v) => [key, v]) : [[key, value]]);\n    }, []));\nconst useSetSearchParams = () => {\n    const navigate = useNavigate();\n    return (nextInit, navigateOptions) => {\n        navigate(`?${createSearchParams(nextInit)}`, navigateOptions);\n    };\n};\nconst useGetSearchParams = (defaultInitValue) => {\n    const defaultInit = useComputedCallback(defaultInitValue);\n    const defaultSearchParams = computed(() => createSearchParams(defaultInit.value));\n    const location = useLocation();\n    const searchParams = computed(() => createSearchParams(location.value.search));\n    return computed(() => {\n        const defaultSearchParamsValue = defaultSearchParams.value;\n        const searchParamsValue = createSearchParams(searchParams.value);\n        for (const key of defaultSearchParamsValue.keys()) {\n            if (!searchParamsValue.has(key)) {\n                defaultSearchParamsValue.getAll(key).forEach((value) => {\n                    searchParamsValue.append(key, value);\n                });\n            }\n        }\n        return searchParamsValue;\n    });\n};\nexport const useSearchParams = (defaultInit) => {\n    const searchParams = useGetSearchParams(defaultInit);\n    const setSearchParams = useSetSearchParams();\n    return [searchParams, setSearchParams];\n};\n","import { assert } from '../utils/assert';\nexport const generatePath = (path, params = {}) => {\n    return path\n        .replace(/:(\\w+)/g, (_, key) => {\n        assert(params[key] != null, `Missing \":${key}\" param`);\n        return params[key];\n    })\n        .replace(/\\/*\\*$/, () => params['*'] == null ? '' : params['*'].replace(/^\\/*/, '/'));\n};\n","import * as components from '../components/index';\nexport const install = (app) => {\n    for (const key in components) {\n        app.component(key, components[key]);\n    }\n};\n"],"names":["ROUTE_CONTEXT","Symbol","LOCATION_CONTEXT","Router","defineComponent","name","props","location","required","type","Object","navigator","action","String","default","Action","Pop","static","Boolean","setup","slots","provide","renderSlot","useReducer","reducer","initialState","state","reactive","dispatch","arg","readonly","BrowserRouter","window","history","computed","createBrowserHistory","value","watch","listen","flush","immediate","h","throwError","error","Error","assert","condition","message","useLocation","locationContext","inject","toRef","trimTrailingSlashes","path","replace","normalizeSlashes","joinPaths","paths","join","splitPath","split","resolvePathname","toPathname","fromPathname","segments","relativeSegments","forEach","segment","length","pop","push","resolvePath","to","pathname","search","hash","parsePath","startsWith","useRouteContext","outlet","params","route","useOutlet","context","useNavigate","navigate","navigatorValue","go","useComputedCallback","Function","isRef","useResolvedPath","toValue","useHref","createHref","linkProps","tag","undefined","Link","emits","click","emit","toRefs","href","handleClick","event","stopPropagation","preventDefault","pathValue","replaceValue","createPath","onClick","MemoryRouter","initialEntries","Array","initialIndex","Number","createMemoryHistory","useCaseSensitive","caseSensitiveValue","stringValue","caseSensitive","string","toLowerCase","NavLink","activeClassName","activeStyle","end","ariaCurrent","locationPathname","caseSensitiveLocationPathname","caseSensitiveToPathname","isActive","className","style","class","Outlet","outletElement","Route","element","compilePath","keys","source","_","key","endsWith","flags","matcher","RegExp","safelyDecodeURIComponent","paramName","decodeURIComponent","matchPath","pattern","paramNames","match","matchedPathname","values","slice","reduce","memo","index","paramRe","dynamicSegmentValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","s","matchRouteBranch","branch","routes","matchedParams","matches","i","remainingPathname","routeMatch","compareIndexes","a","b","siblings","every","n","stableSort","array","compareItems","copy","sort","indexOf","computeScore","initialScore","some","filter","score","test","rankRouteBranches","branches","pathScores","aPath","aIndexes","aScore","bPath","bIndexes","bScore","flattenRoutes","parentPath","parentRoutes","parentIndexes","concat","indexes","children","matchRoutes","basename","base","createRoutesFromArray","partialRouteObjects","map","partialRoute","Provide","injectionKey","useJoinPaths","pathsValue","useRoutes_","routesValue","basenameValue","defaultBasename","parentRoute","parentPathname","parentParams","watchEffect","parentRouteValue","console","warn","joinedPaths","reduceRight","useRoutes","partialRoutesValue","partialRoutes","createRoutesFromChildren","normalizedChildren","isArray","isVNode","Fragment","childRoutes","Routes","vnode","useBlocker","blocker","whenValue","when","onCleanup","unblock","block","tx","retry","useMatch","patternValue","useParams","usePrompt","messageValue","confirm","createSearchParams","init","URLSearchParams","v","useSetSearchParams","nextInit","navigateOptions","useGetSearchParams","defaultInitValue","defaultInit","defaultSearchParams","searchParams","defaultSearchParamsValue","searchParamsValue","has","getAll","append","useSearchParams","setSearchParams","generatePath","install","app","components","component"],"mappings":"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"}